<app-page-header [pageHeader]="'Secondary DataSource'"></app-page-header>

<div class="container">
  <app-data-source-properties [datasourceProperties$]="secondaryDatasourceProperties$"></app-data-source-properties>

  <h4 class="section-header">New Secondary Entity</h4>

  <form id="new-secondary-form" [formGroup]="newSecondaryForm" (ngSubmit)="submitNewSecondary()">
    <mat-form-field class="full-width">
      <input matInput placeholder="Name" formControlName="name">
      <mat-error id="invalid-name-feedback" *ngIf="newSecondaryForm.get('name').invalid &&
        (newSecondaryForm.get('name').dirty || newSecondaryForm.get('name').touched)">
        This field is required
      </mat-error>
      <mat-error id="name-validation-feedback" *ngIf="newSecondaryForm.hasError('name')">
        {{newSecondaryForm.getError('name').message}}
      </mat-error>
    </mat-form-field>
    <button id="new-secondary-btn" mat-raised-button type="submit" [disabled]="newSecondaryForm.invalid">
      Save
    </button>
  </form>

  <app-datatable [data$]="data$" [isLoadingResults]="isLoadingResults" [resultsLength]="resultsLength"
   (getDataEvent)="getSecondary($event)">
  </app-datatable>
</div>
